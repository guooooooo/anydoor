const path = require('path');

const mimeTypes = {
    'json': 'application/json',
    'csm': 'application/cu-seeme',
    'cu': 'application/cu-seeme',
    'tsp': 'application/dsptype',
    'xls': 'application/excel',
    'spl': 'application/futuresplash',
    'hqx': 'application/mac-binhex40',
    'doc': 'application/msword',
    'dot': 'application/msword',
    'bin': 'application/octet-stream',
    'oda': 'application/oda',
    'pdf': 'application/pdf',
    'pgp': 'application/pgp-signature',
    'ps': 'application/postscript',
    'ai': 'application/postscript',
    'eps': 'application/postscript',
    'ppt': 'application/powerpoint',
    'rtf': 'application/rtf',
    'wp5': 'application/wordperfect5.1',
    'zip': 'application/zip',
    'wk': 'application/x-123',
    'bcpi': 'application/x-bcpio',
    'pgn': 'application/x-chess-pgn',
    'cpio': 'application/x-cpio',
    'deb': 'application/x-debian-package',
    'dcr': 'application/x-director',
    'dir': 'application/x-director',
    'dxr': 'application/x-director',
    'dvi': 'application/x-dvi',
    'pfa': 'application/x-font',
    'pfb': 'application/x-font',
    'gsf': 'application/x-font',
    'pcf': 'application/x-font',
    'pcf.': 'application/x-font',
    'gtar': 'application/x-gtar',
    'tgz': 'application/x-gtar',
    'hdf': 'application/x-hdf',
    'phtm': 'application/x-httpd-php',
    'pht': 'application/x-httpd-php',
    'php': 'application/x-httpd-php',
    'php3': 'application/x-httpd-php3',
    'phps': 'application/x-httpd-php3-source',
    'clas': 'application/x-java',
    'late': 'application/x-latex',
    'frm': 'application/x-maker',
    'make': 'application/x-maker',
    'fram': 'application/x-maker',
    'fm': 'application/x-maker',
    'fb': 'application/x-maker',
    'book': 'application/x-maker',
    'fbdo': 'application/x-maker',
    'mif': 'application/x-mif',
    'com': 'application/x-msdos-program',
    'exe': 'application/x-msdos-program',
    'bat': 'application/x-msdos-program',
    'dll': 'application/x-msdos-program',
    'nc': 'application/x-netcdf',
    'cdf': 'application/x-netcdf',
    'pac': 'application/x-ns-proxy-autoconfig',
    'o': 'application/x-object',
    'pl': 'application/x-perl',
    'pm': 'application/x-perl',
    'shar': 'application/x-shar',
    'swf': 'application/x-shockwave-flash',
    'swfl': 'application/x-shockwave-flash',
    'sit': 'application/x-stuffit',
    'sv4cio': 'application/x-sv4cpio',
    'sv4cc': 'application/x-sv4crc',
    'tar': 'application/x-tar',
    'gf': 'application/x-tex-gf',
    'pk': 'application/x-tex-pk',
    'texifo': 'application/x-texinfo',
    'texi': 'application/x-texinfo',
    '~': 'application/x-trash',
    '%': 'application/x-trash',
    'bak': 'application/x-trash',
    'old': 'application/x-trash',
    'sik': 'application/x-trash',
    't': 'application/x-troff',
    'tr': 'application/x-troff',
    'roff': 'application/x-troff',
    'man': 'application/x-troff-man',
    'me': 'application/x-troff-me',
    'ms': 'application/x-troff-ms',
    'usta': 'application/x-ustar',
    'src': 'application/x-wais-source',
    'wz': 'application/x-wingz',
    'au': 'audio/basic',
    'snd': 'audio/basic',
    'mid': 'audio/midi',
    'midi': 'audio/midi',
    'mpga': 'audio/mpeg',
    'mpeg': 'audio/mpeg',
    'mp2': 'audio/mpeg',
    'mp3': 'audio/mpeg',
    'm3u': 'audio/mpegurl',
    'aif': 'audio/x-aiff',
    'aiff': 'audio/x-aiff',
    'aifc': 'audio/x-aiff',
    'gsm': 'audio/x-gsm',
    'ra': 'audio/x-pn-realaudio',
    'rm': 'audio/x-pn-realaudio',
    'ram': 'audio/x-pn-realaudio',
    'rpm': 'audio/x-pn-realaudio-plugin',
    'wav': 'audio/x-wav',
    'gif': 'image/gif',
    'ief': 'image/ief',
    'jpeg': 'image/jpeg',
    'jpg': 'image/jpeg',
    'jpe': 'image/jpeg',
    'png': 'image/png',
    'tiff': 'image/tiff',
    'tif': 'image/tiff',
    'ras': 'image/x-cmu-raster',
    'bmp': 'image/x-ms-bmp',
    'pnm': 'image/x-portable-anymap',
    'pbm': 'image/x-portable-bitmap',
    'pgm': 'image/x-portable-graymap',
    'ppm': 'image/x-portable-pixmap',
    'rgb': 'image/x-rgb',
    'xbm': 'image/x-xbitmap',
    'xpm': 'image/x-xpixmap',
    'xwd': 'image/x-xwindowdump',
    'csv': 'text/comma-separated-values',
    'html': 'text/html',
    'htm': 'text/html',
    'mml': 'text/mathml',
    'txt': 'text/plain',
    'rtx': 'text/richtext',
    'tsv': 'text/tab-separated-values',
    'h++': 'text/x-c++hdr',
    'hpp': 'text/x-c++hdr',
    'hxx': 'text/x-c++hdr',
    'hh': 'text/x-c++hdr',
    'c++': 'text/x-c++src',
    'cpp': 'text/x-c++src',
    'cxx': 'text/x-c++src',
    'cc': 'text/x-c++src',
    'h': 'text/x-chdr',
    'csh': 'text/x-csh',
    'c': 'text/x-csrc',
    'java': 'text/x-java',
    'moc': 'text/x-moc',
    'p': 'text/x-pascal',
    'pas': 'text/x-pascal',
    'etx': 'text/x-setext',
    'sh': 'text/x-sh',
    'tcl': 'text/x-tcl',
    'tk': 'text/x-tcl',
    'tex': 'text/x-tex',
    'ltx': 'text/x-tex',
    'sty': 'text/x-tex',
    'cls': 'text/x-tex',
    'vcs': 'text/x-vcalendar',
    'vcf': 'text/x-vcard',
    'dl': 'video/dl',
    'fli': 'video/fli',
    'gl': 'video/gl',
    'mpg': 'video/mpeg',
    'mpe': 'video/mpeg',
    'qt': 'video/quicktime',
    'mov': 'video/quicktime',
    'asf': 'video/x-ms-asf',
    'asx': 'video/x-ms-asf',
    'avi': 'video/x-msvideo',
    'movi': 'video/x-sgi-movie',
    'vrm': 'x-world/x-vrml',
    'vrml': 'x-world/x-vrml',
    'wrl': 'x-world/x-vrml'
};

module.exports = (filePath) => {
    let ext = path.extname(filePath).split('.').pop().toLowerCase();
    if (!ext) {
        ext = filePath;
    }
    return mimeTypes[ext] || mimeTypes['txt'];
};